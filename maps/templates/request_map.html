{% extends "base.html" %}

{% block title %}{{ block.super }} :: description{% endblock %}

{% block js %}
{{ block.super }}
{% load static %}
    <style>
        .ui-autocomplete-loading {
        background: white url('http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.2/themes/smoothness/images/ui-anim_basic_16x16.gif') right center no-repeat;
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function() {
                // set defaults for dropdown boxes
                $('#ranking_algorithm').val('1');
                $('#similarity_algorithm').val('2');
                $('#filtering_algorithm').val('1');
                $('#basemap_author').autocomplete({
                    source: '{% url top_authors %}',
                    minLength: 3,
                    });
                $('#basemap_conference').autocomplete({
                    source: '{% url top_conferences %}',
                    minLength: 3,
                    });
                $('#basemap_journal').autocomplete({
                    source: '{% url top_journals %}',
                    minLength: 3,
                    });
                $('#heatmap_author').autocomplete({
                    source: '{% url top_authors %}',
                    minLength: 3,
                    });
                $('#heatmap_conference').autocomplete({
                    source: '{% url top_conferences %}',
                    minLength: 3,
                    });
                $('#heatmap_journal').autocomplete({
                    source: '{% url top_journals %}',
                    minLength: 3,
                    });
                $('#basemap').accordion({
                    collapsible:true
                    });
                $('#heatmap').accordion({
                    collapsible:true
                    });
                $('#submit').button();
        });
    </script>
{% endblock %}

{% block content %}
<form method="post" action='{% url request_map %} '>
    {% csrf_token %}
    <div id='basemap'>
        <h3>Basemap</h3>
        <div id='basemap_inner'>
            <label for='basemap_starting_year'>Starting Year:</label><br>
            <input id='basemap_starting_year' type='number' name='basemap_starting_year' min='1950' max='2013' value='1950' autocomplete='off'><br>
            <label for='basemap_ending_year'>Ending Year:</label><br>
            <input id='basemap_ending_year' type='number' name='basemap_ending_year' min='1950' max='2013' value='2013' autocomplete='off'><br>
            <label for='basemap_sample_size'>Number of Documents:</label><br>
            <input id='basemap_sample_size' type='number' name='basemap_sample_size' min='100' max='50000' value='30000' autocomplete='off'><br>
            <label for='number_of_terms'>Number of Terms:</label><br>
            <input id='number_of_terms' type='number' name='number_of_terms' min='100' max='5000' value='1000' autocomplete='off'><br>
            <label for='ranking_algorithm'>Ranking Algorithm:</label><br>
            <select name="ranking_algorithm" id="ranking_algorithm">
                <option value="0">TF/ICF</option>
                <option value="1">C-Value</option>
                <option value="2">C-Value + Unigrams</option>
                <option value="3">TF</option>
            </select><br>
            <label for='similarity_algorithm'>Similarity Algorithm:</label><br>
            <select name="similarity_algorithm" id="similarity_algorithm">
                <option value="0">Latent Semantic Analysis</option>
                <option value="1">Jaccard</option>
                <option value="2">Jaccard Partial Match</option>
                <option value="3">Distributional (Jensen-Shannon)</option>
            </select><br>
            <label for='filtering_algorithm'>Filtering Algorithm:</label><br>
            <select name="filtering_algorithm" id="filtering_algorithm">
                <option value="0">Top Terms Only</option>
                <option value="1">Pull Lesser Terms</option>
                <option value="2">Hybrid</option>
            </select><br>
            <label for='basemap_term_type'>Term Type:</label><br>
            <select name="basemap_term_type" id="basemap_term_type">
                <option value="0">Phrases</option>
                <option value="1">All Words</option>
                <option value="2">Words From Phrases</option>
            </select><br>
            <label for='basemap_author'>Author:</label><br>
            <input type='text' id='basemap_author' name='basemap_author'><br>
            <label for='basemap_conference'>Conference:</label><br>
            <input type='text' id='basemap_conference' name='basemap_conference'><br>
            <label for='basemap_journal'>Journal:</label><br>
            <input type='text' id='basemap_journal' name='basemap_journal'><br>
        </div>
    </div>
    <div id='heatmap'>
        <h3>Heatmap</h3>
        <div id='heatmap_inner'>
            <label for='heatmap_starting_year'>Starting Year:</label><br>
            <input id='heatmap_starting_year' type='number' name='heatmap_starting_year' min='1950' max='2013' value='1950' autocomplete='off'><br>
            <label for='heatmap_ending_year'>Ending Year:</label><br>
            <input id='heatmap_ending_year' type='number' name='heatmap_ending_year' min='1950' max='2013' value='2013' autocomplete='off'><br>
            <label for='heatmap_sample_size'>Number of Documents:</label><br>
            <input id='heatmap_sample_size' type='number' name='heatmap_sample_size' min='100' max='50000' value='2000' autocomplete='off'><br>
            <label for='heatmap_term_type'>Term Type:</label><br>
            <select name="heatmap_term_type" id="heatmap_term_type">
                <option value="0">Phrases</option>
                <option value="1">All Words</option>
                <option value="2">Words From Phrases</option>
            </select><br>
            <label for='heatmap_author'>Author:</label><br>
            <input type='text' id='heatmap_author' name='heatmap_author'><br>
            <label for='heatmap_conference'>Conference:</label><br>
            <input type='text' id='heatmap_conference' name='heatmap_conference'><br>
            <label for='heatmap_journal'>Journal:</label><br>
            <input type='text' id='heatmap_journal' name='heatmap_journal'><br>
        </div>
    </div>

        <input id='submit' value='Create Map' type='submit'>
    </form>
{% endblock %}
